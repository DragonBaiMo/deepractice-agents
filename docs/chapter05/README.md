# 第5章：AgentX 框架与 PromptX 认知系统

第四章我们手写了智能体，理解了原理，也发现了问题。本章介绍 Deepractice 团队开发的完整解决方案：**AgentX 框架**（行为骨架）+ **PromptX 系统**（认知灵魂）。

---

## 本章目标

学完本章，你将：
- 理解事件驱动架构的设计理念
- 掌握 AgentX 的四层事件系统和状态机
- 用 AgentX 快速实现三大范式
- 掌握 PromptX 的角色、知识、记忆系统
- 构建有专业能力和长期记忆的智能体

---

## 本章目录

| 节 | 标题 | 核心内容 | 预计阅读时间 |
|----|------|---------|-------------|
| 5.1 | [AgentX 简介与设计哲学](5.1-AgentX简介与设计哲学.md) | 为什么需要框架、三大设计哲学、与其他框架对比 | 20分钟 |
| 5.2 | [核心概念：事件系统与状态机](5.2-核心概念.md) | 四层事件系统、Mealy 状态机、生命周期管理 | 25分钟 |
| 5.3 | [快速开始：第一个 AgentX 智能体](5.3-快速开始.md) | 环境配置、Hello AgentX、三大范式的框架实现 | 30分钟 |
| 5.4 | [工具系统与集成](5.4-工具系统.md) | 工具定义、高级特性、工具管理、常用工具实现 | 25分钟 |
| 5.5 | [PromptX 认知系统](5.5-PromptX认知系统.md) | 角色定义、知识管理、Engram 记忆网络、完整实战 | 35分钟 |
| 5.6 | [本章小结与学习检查](5.6-本章小结.md) | 知识回顾、学习检查清单、常见问题、下一步建议 | 15分钟 |

---

## 章节间的联系

```
第3章: LLM 基础与局限
    ↓
  识别四大局限
    ↓
第4章: 手写三大范式
    ↓
  发现工程困境
    ↓
4.5节: 引入框架理念
    ↓
    ┌─────────────┴─────────────┐
    ↓                           ↓
5.1-5.4: AgentX 框架        5.5: PromptX 系统
    (行为骨架)                  (认知灵魂)
    ↓                           ↓
    └─────────────┬─────────────┘
                  ↓
        完整智能体解决方案
                  ↓
        第13-15章: 实战项目
```

---

## 学习建议

1. **按顺序阅读**：各节循序渐进，不要跳着看
2. **动手实践**：每节都有代码，建议本地运行
3. **对比第四章**：时常回顾手写实现，对比框架的改进
4. **关注事件**：理解事件系统是掌握 AgentX 的关键
5. **重视认知**：PromptX 的记忆网络机制是本章亮点

---

## 前置知识

学习本章前，请确保：
- 完成第3章《大语言模型基础》
- 完成第4章《智能体经典范式》的手写实践
- 具备 TypeScript/JavaScript 基础
- 理解第4章 4.5 节的框架设计理念

---

## AgentX vs 手写实现对比

<div align="center">
<p>表 5.0 框架与手写实现对比</p>
</div>

| 维度 | 第4章手写实现 | 第5章 AgentX + PromptX |
|-----|-------------|----------------------|
| **代码量** | ReAct ~150行 | ~50行 |
| **输出解析** | 正则表达式，脆弱 | 结构化输出 + 自动修复 |
| **错误处理** | 基本无 | 重试、降级、超时控制 |
| **状态管理** | 简单标志位/列表 | Mealy 状态机 |
| **工具集成** | 字典 + 函数映射 | 声明式定义 + 注册表 |
| **角色定义** | 简单提示词 | PromptX 角色系统 |
| **知识管理** | 依赖预训练 | PromptX 知识库 + RAG |
| **记忆系统** | 消息历史列表 | Engram 记忆网络 |
| **可观测性** | 需手动添加日志 | 事件系统自动支持 |
| **适用场景** | 学习、简单任务 | 生产环境、复杂应用 |

---

[⬅️ 上一章：智能体经典范式](../chapter04/README.md) | [🏠 返回总目录](../README.md) | [➡️ 下一章：多智能体协作](../chapter06/README.md)
